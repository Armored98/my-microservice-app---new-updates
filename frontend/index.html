{% extends "base.html" %}
{% block body %}
<div class="row justify-content-center">
	<div class="col-md-8">
		<div class="card shadow-sm">
			<div class="card-body">
				<h3 class="card-title mb-4">Your Todos</h3>
				{% if not session.get('token') %}
					<div class="alert alert-info">
						Plz <a href="{{ url_for('login') }}" class="alert-link">log in</a> to manage your todos.
					</div>
						{% else %}
							<div class="d-flex justify-content-between align-items-center mb-2">
								<h5 class="mb-0">Todo List</h5>
								<a href="{{ url_for('export') }}" class="btn btn-outline-secondary btn-sm">Export</a>
							</div>
							<ul class="list-group mb-4">
								{% for todo in todos %}
									<li class="list-group-item d-flex justify-content-between align-items-center">
										{{ todo.task }}
									</li>
								{% else %}
									<li class="list-group-item text-muted">No todos yet.</li>
								{% endfor %}
							</ul>
							<form method="post" class="d-flex">
								<input type="text" name="task" class="form-control me-2" placeholder="New Todo" required>
								<button type="submit" class="btn btn-primary">Add</button>
							</form>
				{% endif %}
			</div>
		</div>
	</div>
</div>
{% endblock %}
